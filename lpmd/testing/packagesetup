#
#
#

name = lpmd
fullname = 'LPMD'
version = 0.6.0
author = 'GNM <gnm@gnm.cl>'
prefix = /usr/local

language c++
   flags = -g -O3 -ffast-math -funroll-all-loops -Wall -pedantic 
end

language lpunit
   compiler = lpmaketest
end

directory .
    staticlibrary liblpmdutility.a
       language = c++
       sources = controlparser.cc quickmode.cc application.cc
       pkgconfig += liblpmd-2.0
       installpath = lib
    end

    binary lpmd
       language = c++
       sources = lpmd.cc
       installpath = bin
       pkgconfig += liblpmd-2.0
       libraries += liblpmdutility.a
    end

    binary lpmd-analyzer
       language = c++
       sources = analyzer.cc
       installpath = bin
       pkgconfig += liblpmd-2.0
       libraries += liblpmdutility.a
    end

    binary lpmd-converter
       language = c++
       sources = converter.cc
       installpath = bin
       pkgconfig += liblpmd-2.0
       libraries += liblpmdutility.a
    end
end

directory tests

   binary controlparser
      test = true
      language = lpunit
      sources = controlparser.unit
      libraries += ../liblpmdutility.a
      pkgconfig += lpunit liblpmd-2.0
   end

end

